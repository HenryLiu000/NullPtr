# 谁是牛头王桌游
##### 小组名：The Null Pointers
##### 2023年5月10日
###### 本游戏最早是19世纪美国西部牛仔在劳动之余所创造的

## 目录

- 游戏规则
  - 游戏人数
  - 游戏道具组成
  - 游戏过程
- 程序功能概述
- 程序设计方案
  - 开始菜单
  - 游戏界面
  - 结束界面
- 进阶功能畅想

## 游戏规则

### 游戏人数

* 四人赛：4人
* 斗牛：2-5人

### 游戏道具组成

一副牌（110张），每张牌上有两个参数，一个是此牌的序号（以下记作num），另一个是此牌的牛头数（以下记作heads）
，110张牌的num分别为1~110，heads与num存在如下对应关系

```
    switch(num):
        case (num % 11 == 0): heads = 5;
        case (num % 20 == 0): heads = 3;
        case (num % 5 ==0): heads = 2;
        default: heads = 1;
```

### 游戏过程

1. 每人初始10张牌，再从剩余牌堆中抽取5张牌放在游戏桌面上，作为5行的排头，其余牌弃之不用。
2. 每一轮，每个玩家背着出一张牌，然后同时亮牌，按照每张牌的num从小到大的顺序排序，num最小的玩家先执行第（3）步，最大的反之
3. 第三步分为三种情形讨论：

* [1] 如果游戏桌上5行的最后一张牌的num均大于本玩家牌的num，则本玩家可以任选一行，将本行所有牌收入自己的仓库中，然后将自己的牌作为本行的排头。
* [2] 如果存在一行的最后一张牌的num小于本玩家牌的num，则本玩家必须在这些最后一张牌的num比自己的牌的num小的行中选择与自己的num差距最小的那一行，
将自己的牌放到此行的最后（这个规则保证每一行牌的num严格递增）。
* [3] 如果本玩家执行 [2] 后，发现自己放置的牌成为本行的第6张牌，那么他必须收走本行的前五张牌到自己的仓库中，然后将自己放置的这张牌作为本行的开头.

4. 十轮之后计算每个玩家仓库中heads总数，数量最多的那位成为”牛头王“！

## 程序功能概述

实现一个《谁是牛头王》的桌游程序，初步计划实现与AI进行单机游戏，有多种模式提供选择（主要是4人赛，即团建模式）。并且实现较为生动的UI界面。

## 程序设计方案

### 开始菜单

开始菜单显示有”开始游戏“、“设置”、“游戏规则”以及“退出游戏”组成
* 点击“开始游戏”后进入模式选择界面
* 点击“设置”后，可以调整游戏设置，例如音乐、音效等
* 点击“游戏规则”后可以查看游戏规则
* 点击“退出游戏”后可以退出该程序

### 模式选择界面

点击“开始游戏”之后进入模式选择界面，该界面暂定有“4人赛”和“斗牛”，“斗牛”模式为1v1双人赛。

### 游戏界面

#### 发牌阶段
* 画面背景
* 画面中间是一叠牌正在做发牌动作
* 画面四周是各个玩家的头像、昵称
* 画面下方展示自己手中的牌

#### 打牌阶段
* 画面背景
* 画面中间是五排槽，槽中有牌
* 画面四周是各个玩家的头像、昵称、手中牌的数量以及仓库中的牛头数
* 画面下方展示自己手中的牌

#### 结算阶段
游戏分出胜负后，进入结算界面。
* 结算界面展示谁成为了本场的“牛头人”（可以是多个）
* 系统对你的实力的评分
* 按钮“继续”

### 结束界面

在结算阶段点击“继续”后，进入到结束界面。结束界面由“返回菜单”和“退出游戏”两个按钮。
* 点击“返回菜单”便会跳转到“开始菜单”界面
* 点击“退出游戏”会关闭程序

## 进阶功能畅想

### 等级机制
每场对战结束后可以获得经验，提升等级，用于彰显自己的资历

### 段位机制
每场对战结束后会由系统评分来计入你的段位评价（可正可负），提升或降低段位，用于展示自己的实力

### 不同难度
创建多种难度的AI，甚至可能在AI之间存在合作关系

### 接入网络
搭建服务器，接入网络，使得评分的可以进行排名，并且可以有联机模式。

## 初步分工

- 王浩骅（队长）：负责打牌过程的实现
- 罗天：负责ui界面的设计和实现
- 秦艺铭：负责AI算法的实现
